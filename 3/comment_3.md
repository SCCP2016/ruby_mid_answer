料金を求めるプロセスを、

1. 年齢から基本料金を求める。
2. 性別から割引後の料金を求める。

の２つに分割しよう。

基本料金の区分は 0〜12歳, 12〜18歳, 19〜22歳, 23歳〜 の4つなので、Rangeとcase式を用いて基本料金を求めよう。

割引料金は性別が男性か女性かでif式を用いて場合分けしよう。

caseは式なので、合致した条件内の処理で最後に評価された値が返却される。上のcase式では年齢に応じて基本料金が評価され式の返り値として返却される。返却された値はfeeという変数に格納される。

次に割引料金を求めるのだが、今回は男性(0)と女性(1)で場合分けすればよいのでif式でそれを判別し適当な料金を求めよう。ifもcaseと同様に式なので値を返却するため、p関数を使って結果を出力することができる。


```
age, sex = STDIN.gets.split.map(&:to_i)

# caseは式なので代入可
fee = case age
      when 0..12 then
        700
      when 13..18 then
        1000
      when 19..22 then
        1200
      else
        1500
      end

# ifも式なので、値として出力可能
p (if sex == 0 then 
      fee 
    else 
      fee-200
    end)

# 三項演算子を用いる方法もある
p sex == 0 ? fee : fee-200
```

caseやifが式であり値を返すことを利用して、それらの構文の中でpやputs関数を一切利用していないことに注目してほしい。case, if式の返り値を変数に代入したりp関数の引数に直接利用することでコードが読みやすく理解しやすいものになっている。

三項演算子は、`(条件文) ? (trueのときの値) : (falseのときの値)` という形の構文で条件分岐の評価処理をコンパクトに書くことが出来る。濫用するとコードが少し読みにくくなってしまうので注意。